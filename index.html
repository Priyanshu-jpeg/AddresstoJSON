<!doctype html>
<html lang="en">
  <head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  </head>
  <style>
    body {
      background-image: url("https://images.unsplash.com/photo-1519750783826-e2420f4d687f?ixlib=rb-1.2.1&ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&auto=format&fit=crop&w=1534&q=80");
            background-position: center center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-size: cover;
            background-color: #464646;
         }
         .input-field label {
        color: #000;
      }
      ::placeholder{
          color:white;
        }

  </style>
  <title>Address To JSON</title>
  
  <body> 
      <div class="navbar-fixed">
    <nav>
      <div class="nav-wrapper" style="background-color:#33A5FF">
        <div class="brand-logo" style="margin-left: 20px;font-size: 18px;"><i class="material-icons">contacts</i>Address to JSON
        </div>
        <ul class="right hide-on-med-and-down">
            <li>
              <a id="myBtn" class="waves-effect waves-light btn modal-trigger">About</a>
              <!-- The Modal -->
              <div id="myModal" class="modal">
                
                  <!-- Modal content -->
                  <div class="modal-content">
                    <div class="right hide-on-med-and-down"><a id="close" class="waves-effect waves-light btn modal-trigger">Close</a></div>
                    <h4 style="color:black">About</h4>
                    <p style="color:black">Special thanks to Shreevardhan and Sanchita for timely guidance.
                    </p>
                    <h6 style="color:black">How to use?</h6>
                    <p style="color:black">
                      <span style="color:black">
                        - Enter the name, address etc on the left side
                        <br>- Once entered, tap on Submit
                        <br>- On the right side, JSON will be generated
                        <br>- Use Expand to view and copy button to copy the JSON
                        <br>- Blank box can be used to copy the full address for your reference and then paste on the form.
                        <br>- Autocomplete is disabled due to some UI issues.
                      </span>
                    </p>
                    
                  </div>              
              </div>
           </li>
        </ul>
      </div>
    </nav>
  </div>
  <br> 
    <div class="row">
        <div class="col s6">
            <form class="col s12" autocomplete="off" id="addressForm">
                <div class="row">
                    <div class="input-field col s9">
                    <input placeholder="Type the full Name" type="text" name="name">
                    <label><i class="material-icons">people</i> Name</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s9">
                    <input placeholder="House No/Flat Number, Society/Apartment or House Name"  type="text" name="address.line1">
                    <label><i class="material-icons">business</i> Address Line 1</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s9">
                    <input placeholder="Area name, landmarks"  type="text" name="address.line2">
                    <label><i class="material-icons">business</i> Address Line 2</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s9">
                    <input placeholder="Full Area Name"  type="text" name="address.area">
                    <label><i class="material-icons">location_city</i> Area</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s9">
                    <input placeholder="Area Pincode"  type="number" name="address.pincode">
                    <label><i class="material-icons">pin_drop</i> Pincode</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s9">
                    <input placeholder="City"  type="text" name="address.city">
                    <label><i class="material-icons">edit_location</i> City</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s9">
                    <input placeholder="State"  type="text" name="address.state">
                    <label><i class="material-icons">edit_location</i> State</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s9">
                    <input placeholder="Enter valid email address"  type="email" name="email">
                    <label><i class="material-icons">mail</i> Email Address</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s9">
                    <input placeholder="Enter Valid 10 digit Mobile Number"  type="number" name="number">
                    <label><i class="material-icons">phone_android</i> Mobile Number</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s9">
                    <input placeholder="Website Name"  type="text" name="website">
                    <label><i class="material-icons">web</i> Your website name</label>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s9">
                    <input placeholder="Enter Telephone Number (Landline)"  type="text" name="contact">
                    <label><i class="material-icons">local_phone</i> Telephone</label>
                    </div>
                </div>
                <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                    <i class="material-icons right">send</i>
                </button>
            </form>
           
        </div> 
        <div class="col s6">
            <div class="row">
                <div class="input-field col s12">
                      <textarea placeholder="Copy raw address here then copy on the form fields" id="textarea1" class="materialize-textarea"></textarea>
                      <label for="textarea1"><i class="material-icons right">content_copy</i>Blank Box for Copy & Paste reference</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                      <textarea placeholder="Use arrow buttons to expand generated JSON" id="output" class="materialize-textarea" ></textarea>
                      <label for="output"><i class="material-icons right">code</i>JSON Output</label>
                      <br><button id ="Copy" class="btn waves-effect waves-light" type="submit" onclick="copyFunction()"><i class="material-icons right">content_copy</i>Copy JSON
                    </button>
                    <button id ="expandBtn" class="btn waves-effect waves-light" type="submit" onclick="expandJSON()"><i id="iconChange" class="material-icons right">expand_more</i>Expand JSON
                </div>
            </div>
           
    </div>
    <script>
      
      document.forms[0].onsubmit = function (e) {
        e.preventDefault();

        var formData = new FormData(this);
        var data = {
          name: formData.get('name'),
          address: {
            line1: formData.get('address.line1'),
            line2: formData.get('address.line2'),
            area: formData.get('address.area'),
            pincode: parseInt(formData.get('address.pincode')),
            city: formData.get('address.city'),
            state: formData.get('address.state')
          },
          email: formData.get('email'),
          number: parseInt(formData.get('number')),
          website: formData.get('website'),
          contact: parseInt(formData.get('contact'))
        }

        document.querySelector('#output').innerHTML = JSON.stringify(data, null, 2);
        
      }
      function copyFunction(){
        var copyText = document.getElementById("output");
      copyText.select();
      document.execCommand("copy");
      M.toast({html: 'Copied',classes: 'rounded'})

      }

      function expandJSON (){
        var expand= document.getElementById("output");
        //expand.style.height=auto;
        expand.style.height =  (expand.scrollHeight) + 'px';
        console.log(expandJSON);
        var changeIcon=document.getElementById("iconChange");
              changeIcon.innerHTML = "expand_less";
      }
      var modal = document.getElementById("myModal");
      var btn = document.getElementById("myBtn");
      var closeBtn = document.getElementById("close");
      btn.onclick = function() {
        modal.style.display = "block";
        modal.inDuration(500);
      }
      closeBtn.onclick = function() {
        modal.style.display = "none";
      }
      window.onclick = function(event) {
      if (event.target == modal) {
      modal.style.display = "none";
      }
  }
    </script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
  </body>
</html>